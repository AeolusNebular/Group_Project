:root {
    /* üå´Ô∏è Root theming (AGGRESSIVELY GREY) */
    --bg-dark:        linear-gradient(to bottom right, #333, #000);
    --bg-light:       linear-gradient(to bottom right, #fff, #ddd);
    --card-dark:      linear-gradient(to bottom right, #3f3f3fbb, #656565bb);
    --card-light:     linear-gradient(to bottom right, #eeeeeebb, #ccccccbb);
    --text-dark:      #fff;
    --text-light:     #000;
    --shadow-main:    #888;
    --text-shadow:    #bbb;
    --hover-dropdown: linear-gradient(to bottom right, #777, #888);
    --border-colour:  #eee;
}

.filter-deuteranopia {
    filter: url(#deuteranopia);
}
.filter-tritanopia {
    filter: url(#tritanopia);
}
.filter-achromatopsia {
    filter: url(#achromatopsia);
}

/* ================= üé® THEMES ================= */

/* üü£ Purple (default) */
.purple-theme {
    --bg-dark:        linear-gradient(to bottom right, #002, #305);
    --bg-light:       linear-gradient(to bottom right, #eef, #fef);
    --card-dark:      linear-gradient(to bottom right, #2a2d5bbb, #503264bb);
    --card-light:     linear-gradient(to bottom right, #cccceebb, #eecceebb);
    --text-light:     #103;
    --shadow-main:    #c08ab660;
    --text-shadow:    #948;
    --hover-dropdown: linear-gradient(to bottom right, #448, #748);
    --border-colour:  #ece;
}
/* üü¢ Green */
.green-theme {
    --bg-dark:        linear-gradient(to bottom right, #0c0f0c, #232);
    --bg-light:       linear-gradient(to bottom right, #dfd, #bdb);
    --card-dark:      linear-gradient(to bottom right, #1f3b1fbb, #325d32bb);
    --card-light:     linear-gradient(to bottom right, #c8e6c9bb, #dff2dcbb);
    --text-shadow:    #494;
    --hover-dropdown: linear-gradient(to bottom right, #252, #093);
    --border-colour:  #ced;
}
/* üåä Marine */
.marine-theme {
    --bg-dark:        linear-gradient(to bottom right, #032, #066);
    --bg-light:       linear-gradient(to bottom right, #cee, #eff);
    --card-dark:      linear-gradient(to bottom right, #0d3139bb, #17584bbb);
    --card-light:     linear-gradient(to bottom right, #bbeeeebb, #ddffffbb);
    --text-light:     #043;
    --shadow-main:    #88ccc060;
    --text-shadow:    #0a9;
    --hover-dropdown: linear-gradient(to bottom right, #166, #098);
    --border-colour:  #cee;
}
/* üîµ Blue */
.blue-theme {
    --bg-dark:        linear-gradient(to bottom right, #001528, #00155c);
    --bg-light:       linear-gradient(to bottom right, #a7d7f7, #c7e7ff);
    --card-dark:      linear-gradient(to bottom right, #0e3a5cbb, #1b5580bb);
    --card-light:     linear-gradient(to bottom right, #bfe8ffbb, #e1f4ffbb);
    --text-light:     #024;
    --shadow-main:    #80b6f060;
    --text-shadow:    #19d;
    --hover-dropdown: linear-gradient(to bottom right, #048, #08c);
    --border-colour:  #adf;
}
/* üü• Red */
.red-theme {
    --bg-dark:        linear-gradient(to bottom right, #100, #400);
    --bg-light:       linear-gradient(to bottom right, #fbb, #fdd);
    --card-dark:      linear-gradient(to bottom right, #5a0000bb, #920000bb);
    --card-light:     linear-gradient(to bottom right, #ffccccbb, #ffeeeebb);
    --text-light:     #300;
    --hover-dropdown: linear-gradient(to bottom right, #900, #b03);
    --shadow-main:    #af5b5b60;
}

/* üê∫ Sigma */
.sigma-theme {
    --text-light:     #600;
    --shadow-main:    #56121260;
    --text-shadow:    #500;
    --hover-dropdown: linear-gradient(to bottom right, #922, #500);
    --border-colour:  #922;
}

/* üßë‚Äçüíª Matrix */
.matrix-theme {
    --bg-dark:        linear-gradient(to bottom right, #040, #000);
    --bg-light:       #54c454bb;
    --card-dark:      #001a00bb;
    --card-light:     #54c454bb;
    --text-light:     #040;
    --shadow-main:    #00cc0060;
    --text-shadow:    #040;
    --hover-dropdown: #040;
    --border-colour:  #040;
    font-family:      'Courier New', monospace;
}
/* üåÄ Falling code effect */
.matrix-theme .matrix-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    pointer-events: none;
}
.matrix-theme .matrix-text {
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
    list-style: none;
}
.matrix-theme .matrix-text li {
    padding: 0;
    margin: 0;
    display: inline-block;
    white-space: nowrap;
    font-size: 16px;
    animation: falling 3s infinite linear;
}
.matrix-canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: -1;
}
@keyframes falling {
    0% {
        opacity: 1;
    }
    100% {
        opacity: 0;
    }
}

/* üåá Sunset */
.sunset-theme {
    --bg-dark:        linear-gradient(to bottom right, #4a001f, #ff4500, #ffaf00);
    --bg-light:       linear-gradient(to bottom right, #ffdd99, #ffd180, #ffab40);
    --card-dark:      linear-gradient(to bottom right, #8b1c1cbb, #ff5733bb);
    --card-light:     linear-gradient(to bottom right, #fc8, #fe9);
    --text-light:     #310;
    --shadow-main:    #ff6f5080;
    --text-shadow:    #d32;
    --hover-dropdown: linear-gradient(to bottom right, #c32, #f74);
    --border-colour:  #fc8;
}

/* üèúÔ∏è Desert Theme */
.desert-theme {
    --bg-dark:        linear-gradient(to bottom right, #5c3b1a, #a86d3c);
    --bg-light:       linear-gradient(to bottom right, #ffdab9, #ffcc99);
    --card-dark:      linear-gradient(to bottom right, #8b5a2bbb, #c79c6bbb);
    --card-light:     linear-gradient(to bottom right, #f5deb3, #ffebcc);
    --text-light:     #421;
    --shadow-main:    #cc996060;
    --text-shadow:    #a63;
    --hover-dropdown: linear-gradient(to bottom right, #963, #c85);
    --border-colour:  #fdb;
}
/* üçÇ Tumbleweed */
.tumbleweed {
    position: fixed;
    bottom: 10px;
    width: 80px;
    height: 80px;
    background-image: url('https://cdn-icons-png.flaticon.com/512/1171/1171228.png');
    background-size: cover;
    animation: tumble 12s linear infinite;
    pointer-events: none;
    z-index: -1;
}
/* üîÑ Tumble animation */
@keyframes tumble {
    0% {
        transform: translateX(-10vw) rotate(0deg);
    }
    100% {
        transform: translateX(110vw) rotate(2400deg);
    }
}

/* üåå Cosmic */
.cosmic-theme {
    --bg-dark:        radial-gradient(circle at 40% 20%, #2d0061, #15002f, #000018);
    --bg-light:       linear-gradient(to bottom right, #f2d6ff, #ffeaff);
    --card-dark:      linear-gradient(to bottom right, #2c005080, #5a009980);
    --card-light:     linear-gradient(to bottom right, #e1c4ff, #f7e8ff);
    --text-dark:      #fef;
    --text-light:     #206;
    --shadow-main:    #d47fff80;
    --text-shadow:    #e9f;
    --hover-dropdown: linear-gradient(to bottom right, #7d1ba1, #c04bdd);
    --border-colour:  #fdf;
}
/* ‚≠ê Star container */
#star-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    overflow: hidden;
    z-index: -1;
}
/* ‚≠ê Stars */
.star {
    position: absolute;
    width: 2px;
    height: 2px;
    border-radius: 50%;
    opacity: 0;
    animation: twinkle 4s infinite ease-in-out;
}
.cosmic-theme:not(.light-mode) .star,
.cosmic-theme:not(.light-mode) .shooting-star {
    background-color: #fff; /* ‚ö™ White in dark mode */
}
.cosmic-theme.light-mode .star,
.cosmic-theme.light-mode .shooting-star {
    background-color: #cb0; /* üü° Gold in light mode */
}
/* ‚ú® Twinkling effect */
@keyframes twinkle {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}

/* üå† Shooting stars */
.shooting-star {
    position: absolute;
    width: 3px;
    height: 3px;
    border-radius: 50%;
    opacity: 0;
    transform: rotate(-45deg);
}
@keyframes shooting {
    0% {
        opacity: 1;
        transform: translate(0, 0) scale(1);
    }
    50% {
        opacity: 1;
        transform: translate(-50vw, 50vh) scale(2);
    }
    100% {
        opacity: 0;
        transform: translate(-80vw, 80vh) scale(1);
    }
}

/* üí∞ Ridiculously Bling */
.bling-theme {
    --bg-dark:        linear-gradient(to bottom right, #c85, #540);
    --bg-light:       linear-gradient(to bottom right, #ffe, #ffb);
    --card-dark:      linear-gradient(to bottom right, #e6a900bb, #ffd700bb);
    --card-light:     linear-gradient(to bottom right, #ffc, #fe9);
    --shadow-main:    #dbcb8580;
    --text-shadow:    #cd8;
}

/* üåà Bonus */
.bonus-theme {
    --bg-dark:        linear-gradient(70deg, red, orange, yellow, green, blue, indigo, violet, red, orange, yellow, green, blue, indigo, violet, red);
    --bg-light:       linear-gradient(70deg, violet, indigo, blue, green, yellow, orange, red, violet);
    --card-dark:      linear-gradient(130deg, red, orange, yellow, green, blue, indigo, violet, red, orange, yellow, green, blue, indigo, violet, red);
    --card-light:     linear-gradient(130deg, violet, indigo, blue, green, yellow, orange, red, violet);
    font-family:      'Comic Sans MS';
}

/* üåà Apply animation to background - Left to Right */
body.bonus-theme {
    background-size: 600% 600%;
    animation: rainbow-animation-body 8s infinite linear;
}
@keyframes rainbow-animation-body {
    0% { background-position: 0% 50%; }
    100% { background-position: 500% 50%; }
}
/* üåà Apply animation to cards - Right to Left */
.bonus-theme .card {
    background-size: 600% 600%; /* Match body!! */
    animation: rainbow-animation-cards 8s infinite linear;
}
@keyframes rainbow-animation-cards {
    0% { background-position: 500% 50%; }
    100% { background-position: 0% 50%; }
}

/* üé® Theme selector */
.purple-option { color: #748; }
.green-option  { color: #353; }
.marine-option { color: #266; }
.blue-option   { color: #19d; }
.red-option    { color: #900; }
.sigma-option  { color: #400; }
.matrix-option { color: #182; }
.sunset-option { color: #d75; }
.cosmic-option { color: #63a; }
.desert-option { color: #a63; }
.bling-option  { color: #c81; }
.bonus-option  { color: #e8e; }
.root-option   { color: #666; }